---
title: "Data_Analytics_Project"
date: "2022-11-15"
output:
  html_document:
    toc: true
    toc_depth: 2
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
#Importar les llibreries
library(dplyr)
```

## Getting to know the datasets

```{R}
# Load datasets
DS <- read.csv("cookie_cats_ABtest.csv")
nrow(DS)
ncol(DS)
summary(DS)

```

```{R}
# Load datasets
PR <- read.csv("cookie_cats_purch.csv")
nrow(PR)
ncol(PR)
summary(PR)


```

# 2. Preprocessing
## 2.1 Preprocessing dataset "Cookie Cats AB Testing"

```{R}
unique(DS$version)
unique(DS$sum_gamerounds)
unique(DS$retention_1) #Doing this we can search inconsistencies, like there are FALSE " false" and TRUE " true " variables when it should only be FALSE and TRUE

DS$retention_1[DS$retention_1 == "false "] = FALSE #Changing that "false " into FALSE so we have only one FALSE value
DS$retention_1[DS$retention_1 == "  true "] = TRUE #Changing that " true " into TRUE so we have only one TRUE value

unique(DS$retention_1) #to check if we change the values correctly.
DS$retention_1 = as.logical(DS$retention_1) #now our values in retention_1 are logical values. Before doing that they where strings.
unique(DS$retention_1) #to check if we change the values correctly again.
unique(DS$retention_7) 

```

## 2.2 Preprocessing dataset "Cookie Cats Purchases"

```{R}
#Check the data set for inconsistencies on the values
unique(PR$id)
unique(PR$purch)

#Change all negatives values to positives values
PR$purch[PR$purch == "-2.29EUR"] = "2.29EUR"
PR$purch[PR$purch == "-54.99EUR"] = "54.99EUR"
PR$purch[PR$purch == "-10.99EUR"] = "10.99EUR"
PR$purch[PR$purch == "-21.99EUR"] = "21.99EUR"

#Remove all NA values in the dataset
PR <- na.omit(PR)

#Check again to be sure there are no more inconsistencies
unique(PR$id)
unique(PR$purch)

```

# 3. Descriptive analytics
## 3.1 Dataset “Cookie Cats AB Testing”

### 3.1.1 Users that downloaded the game
```{R}
totalUserAmmount <- length(DS$userid)
totalUserAmmount
```

### 3.1.2 Distribution of users in groups
```{R}
#Check the ammount of users for each group of the A/B test
g30_UserAmmount <- length(DS$userid[DS$version == "gate_30"])
g40_UserAmmount <- length(DS$userid[DS$version == "gate_40"])

#Verify that the sum of the ammount of users per group is equal to the totalilty of users
g30_UserAmmount + g40_UserAmmount == totalUserAmmount

g30_Percentile <- (g30_UserAmmount / totalUserAmmount) * 100
g30_Percentile

g40_Percentile <- (g40_UserAmmount / totalUserAmmount) * 100
g40_Percentile

#There's a slightly higher ammount of users in gate40 than in gate30, precisely an 0.87% more
(g40_Percentile - g30_Percentile) 


```

### 3.1.3 Game rounds

### 3.1.4 Retention 

### 3.1.5 Are there non-playing users?

## 3.2 Dataset “Cookie Cats Purchases”
